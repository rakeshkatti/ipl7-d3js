d3.json("data.json",function(t,n){var a=30,r=8;marginTop=45,marginLeft=80,teams_array=["RPS","MI","KKR","DD","GL","KXIP","RCB","SRH"];var e=d3.select(".chart").attr("width",111*n.length).attr("height",60*r),i={},o=e.selectAll("g").data(n).enter().append("g");o.append("text").text(function(t,n){return t.MATCH}).attr("y",10).attr("x",function(t,n){return n*(marginLeft+a)+a/2-15}),o.append("text").text(function(t,n){return t["MATCH-TEAMS"]}).attr("y",25).attr("x",function(t,n){return n*(marginLeft+a)+a/2-15});for(var u=0;u<teams_array.length;u++){var l=teams_array[u];i[l]=[];var p={},m={};o.append("rect").attr("y",function(t,n){return null!=t[l]?t[l]*(r+marginTop):void 0}).attr("x",function(t,n){return null!=t[l]?(p.i={},m.i={},p.i.x=t[l]*(r+marginTop)+r/2,m.i.x=t[l]*(r+marginTop)+r/2,p.i.y=n*(a+marginLeft),m.i.y=n*(a+marginLeft)+a,i[l].push(p.i),i[l].push(m.i),n*(marginLeft+a)):void 0}).attr("height",function(t,n){return null!=t[l]?r:void 0}).attr("width",function(t,n){return null!=t[l]?a:void 0}).attr("class",function(t,n){var a=t["MATCH-TEAMS"].split(" ").join("").split("vs");return a[0]==l?l+" team current winner":a[1]==l?l+" team current looser":l+" team"}).attr("data-team-name",l);var s=d3.svg.line().y(function(t){return t.x}).x(function(t){return t.y}).interpolate("monotone");e.append("path").attr("d",s(i[l])).attr("class",l+"path path").attr("stroke-width",2).attr("data-team-name",l).attr("fill","none");$("."+l+", ."+l+"path").on("click",function(t){t.stopPropagation(),$(".path, .team").addClass("lighten");var n=$(this).data("team-name");$("."+n+", ."+n+"path").removeClass("lighten")}),$(document).on("click",function(t){$(".path, .team").removeClass("lighten")}),o.append("svg:image").attr("y",function(t,n){return null!=t[l]?t[l]*(r+marginTop)-10:void 0}).attr("x",function(t,n){return null!=t[l]?n*(marginLeft+a)+10:void 0}).attr("xlink:href",function(t,n){var a=t["MATCH-TEAMS"].split(" ").join("").split("vs");return a[0]==l?"../img/trophy.png":void 0}).attr("width",10).attr("height",10)}});
