d3.json("data.json",function(err,data){var width=10,height=30;marginTop=25,marginLeft=80,teams_array=["KKR","MI","RCB","DD","KXIP","CSK","RR","SRH"];for(var chart=d3.select(".chart").attr("width",80*width).attr("height",55*data.length),path={},bar=chart.selectAll("g").data(data).enter().append("g"),i=0;i<teams_array.length;i++){var teamName=teams_array[i];path[teamName]=[];var path1={},path2={};bar.append("text").text(function(d){return d.MATCH}).attr("x",0).attr("y",function(d,i){return null!=d[teamName]?i*(marginTop+height)+height/2:void 0}),bar.append("text").text(function(d){return d["MATCH-TEAMS"]}).attr("x",0).attr("y",function(d,i){return null!=d[teamName]?i*(marginTop+height)+height:void 0}),bar.append("rect").attr("x",function(d){return null!=d[teamName]?d[teamName]*(width+marginLeft):void 0}).attr("y",function(d,i){return null!=d[teamName]?(path1.i={},path2.i={},path1.i.x=d[teamName]*(width+marginLeft)+width/2,path2.i.x=d[teamName]*(width+marginLeft)+width/2,path1.i.y=i*(height+marginTop),path2.i.y=i*(height+marginTop)+height,path[teamName].push(path1.i),path[teamName].push(path2.i),i*(marginTop+height)):void 0}).attr("width",function(d){return null!=d[teamName]?width:void 0}).attr("height",function(d){return null!=d[teamName]?height:void 0}).attr("class",teamName);{var lineFunction=d3.svg.line().x(function(d){return d.x}).y(function(d){return d.y}).interpolate("monotone");chart.append("path").attr("d",lineFunction(path[teamName])).attr("class",teamName+"path").attr("stroke-width",2).attr("fill","none")}}});